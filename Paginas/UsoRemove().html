<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>Creacion de objetos Checkbox</h1>
    <br>
    <h1 id="resultado"></h1>
    <br>
    <form>
        <input type="range" max="10" min="2" value="5" id="rango"><span id="numeroRango"></span>
        <br>
        <label>Seleccione Posicion: </label>
        <input type="text" id="cajaPosicion">
        <br>
        <button type="button" id="botonEliminar">Eliminar checkbox POSICION</button>
    </form>
    <div id="cajaChecks"></div>

    <script src="../JQuery/jquery-3.5.1.js"></script>
    <script>
        var total = 0;
        $(document).ready(function () {
            $("#botonEliminar").click(function () {
                var posicion = parseInt($("#cajaChecks").val());
                //Accederemos a un parent (cajaChecks) y a todos sus children para recuperar objetos a partir de una posicion
                //Hay un metodo llamado eq();
                $("#cajaChecks").children().eq(posicion).remove();
            });
            $("#numeroRango").text($("#rango").val());
            $("#rango").change(function () {
                $("#cajaChecks").empty();
                //empty(); elimina todos sus hijos y su contenido
                //remove(); elimina el control del todo
                $("#numeroRango").text($(this).val());
                for (var i = 0; i < $(this).val(); i++) {
                    var spanValorCheck = $("<span>");
                    var aleat = parseInt((Math.random() * 50) + 1);
                    var objCheck = $("<input>", { "type": "checkbox", "value": aleat });
                    spanValorCheck.text(aleat);
                    objCheck.appendTo($("#cajaChecks"));
                    spanValorCheck.appendTo($("#cajaChecks"));
                    //oppure $("#cajaChecks").append(objCheck).append(spanValorCheck);
                    objCheck.click(function () {
                        if ($(this).is(":checked")) {
                            total += parseInt($(this).val());
                        } else {
                            total -= parseInt($(this).val());
                        }
                        $("#resultado").text(total);
                    });
                }

            });

        });

    </script>

</body>

</html>